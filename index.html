<!DOCTYPE html>
<html lang="pt-br">
<head>
    <title>Calculadora de Atributos</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Incluir os arquivos CSS do Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Abibas&display=swap">
    <style>
        body {
            font-family: 'Times New Roman', serif;
            font-size: 20px;
            background-image: url('https://img.freepik.com/vetores-gratis/fundo-branco-e-cinza-brilhante-com-linhas-onduladas_1017-25101.jpg?w=2000');
            background-size: contain;
            resize: both;
            transform: scale(1.0);
            
            
        }
        
        .custom-container {
            width: 80%;
            max-width: 650px;
            margin: 0 auto;
            height: 50%;
        }
        
        /* Estilos para o botão seletor */
        .selector-button {
            position: absolute;
            top: 20px;
            right: 20px;
            background-color: transparent;
            border: none;
            cursor: pointer;
        }
        .selector-icon {
            width: 30px;
            height: 30px;
            /* Adicionando animação de rotação ao hover */
            transition: transform 0.3s ease-in-out;
        }
        /* Aplicar rotação ao hover */
        .selector-button:hover .selector-icon {
            transform: rotate(360deg);
        }
        /* Estilos para a caixa de opções */
        .options-box {
            display: none;
            position: fixed;
            top: 40%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 300px;
            background-color: #e0debf;
            border: 1px solid #ccc;
            padding: 10px;
            border-radius: 10px;
            cursor: move; /* Tornar o cursor de seleção */
        }
        
        /* Estilos para o switch toggle */
        .toggle {
            position: relative;
            display: inline-block;
            width: 40px;
            height: 20px;
            margin-right: 10px;
        }
        
        .toggle input[type="checkbox"] {
            display: none;
        }
        
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            border-radius: 20px;
            transition: .4s;
        }
        
        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 2px;
            bottom: 2px;
            background-color: white;
            border-radius: 50%;
            transition: .4s;
        }
        
        input[type="checkbox"]:checked + .slider {
            background-color: #007bff; /* Cor quando o toggle está ativo */
        }
        
        input[type="checkbox"]:checked + .slider:before {
            transform: translateX(20px); /* Posição da bola quando o toggle está ativo */
        }
        
        .outros-col {
            display: none;
            height: auto;
            width: 10px;            
            
        }
        .outros-col.hide {
            display: none;
        }
        
        /* Estilos para a coluna "Outros" quando o toggle está marcado */
        .outros-col.show {
            display: table-cell;
            height: auto;
            width: 10px;            
        }
        
        @font-face {
            font-family: 'Tormenta';
            src: url('Tormenta.ttf') format('truetype');
        }
        
        .destaque-mensagem {
            background-color: #000000; /* Cor de fundo */
            padding: 10px; /* Espaçamento interno */
            color: white;
            font-size: 18px; /* Tamanho da fonte */
            font-weight: bold; /* Texto em negrito */
        }
        
        .table {
            margin-top: 20px;
            background-color: transparent; /* Fundo transparente */
            
        }
        
        .table th,
        .table td {
            padding: 8px;
            text-align: center;
            border: 1px solid transparent; /* Bordas transparentes */
            border-radius: 20px;
            background-color: transparent; /* Fundo das células transparente */
            width: 10px;
        }
        
        
        .container.custom-container {
            background-color: #f5f5f56e; /* Cor de fundo desejada */
            padding: 20px;
            border-radius: 10px; /* Valor de arredondamento desejado */
            
        }
        
        .total-col {
            font-weight: bold;
            font-size: 24px;
        }
        
        .close-button {
            position: absolute;
            top: 5px;
            right: 5px;
            background-color: transparent;
            border: none;
            font-size: 18px;
            cursor: pointer;
            z-index: 1; /* Certifique-se de que o botão esteja acima do conteúdo da caixa */
        }
        
        .close-button:hover {
            color: red; /* Mudar a cor quando o botão é hover */
        }
        
        
        
    </style>
    
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@3.11.0/dist/tf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/deeplearn/tfjs.js"></script>
    
</head>
<body>
    <div class="container custom-container">
        <!-- Botão seletor com a imagem de uma engrenagem -->
        <button class="selector-button" onclick="exibirOpcoes()">
            <img class="selector-icon" src="https://static.vecteezy.com/system/resources/previews/016/314/904/non_2x/transparent-configuration-gear-icon-free-png.png" alt="Engrenagem" style="width: 70px; height: auto;">
        </button>
        <!-- Caixa de opções que será exibida ao clicar na engrenagem -->
        <div class="options-box" id="opcoes">
            <button class="close-button" onclick="exibirOpcoes()">X</button>
            <h3>Configurações</h3>
            <h6>Mude sua calculadora</h6>
            <!-- O botão toggle para permitir a edição dos pontos disponíveis -->
            <div class="toggle">
                <input type="checkbox" id="togglePontos" onclick="togglePontosInput()">
                <label class="slider" for="togglePontos"></label>
            </div>
            <span>Pontos Editáveis</span>
            <br>
            <div class="toggle">
                <input type="checkbox" id="toggleOutrosInput">
                <label class="slider" for="toggleOutrosInput"></label>
            </div>
            <span>Sessão Outros para Cálc.</span>
        </div>
        <div class="row">
            <div class="col-md-12">
                <h1 class="text-center" style="color: rgb(82, 3, 3); font-weight: bold; font-family: Tormenta; font-size: 48px;">Calculadora de Atributos</h1>
                
                
                <div class="container" style="display: flex; flex-direction: row;">
                    
                    <div class="column" style="width: 45%;">
                        <!-- Botão "reset" -->
                        <P><button type="button" class="btn btn-dark" onclick="resetarValores()">Reset</button></P>
                        <!-- Coluna do botão seletor até pontos disponíveis -->
                        
                        <label for="raca">Raça:</label>
                        <select id="raca" onchange="exibirBonusRaca()">
                            <option value="outros" selected>Outros</option>
                            <option value="humano">Humano</option>
                            <option value="elfo">Elfo</option>
                            <option value="golem">Golem</option> 
                        </select>
                        
                        <!-- Div para as caixas de seleção do Golem (inicialmente oculta) -->
                        <div id="caracteristicasGolem" style="display: none;">
                            <label for="chassi">Chassi:</label>
                            <select id="chassi" onchange="exibirBonusRaca()">
                                <option value="">Selecione</option>
                                <option value="bronze">Bronze</option>
                                <option value="ferro">Ferro</option>
                                <option value="carne">Carne</option>
                            </select><br>
                            
                            <label for="fonteEnergia">Fonte de Energia:</label>
                            <select id="fonteEnergia" onchange="exibirBonusRaca()">
                                <option value="">Selecione</option>
                                <option value="Alquimica">Alquímica</option>
                                <option value="Elemental">Elemental</option>
                            </select><br>
                            
                            <label for="tamanho">Tamanho:</label>
                            <select id="tamanho" onchange="exibirBonusRaca()">
                                <option value="">Selecione</option>
                                <option value="Pequeno">Pequeno</option>
                                <option value="Medio">Médio</option>
                                <option value="Grande">Grande</option>
                            </select>
                        </div>
                        <Br></Br>
                        <h3 style="color: rgb(82, 3, 3); font-weight: bold; font-family: Tormenta; font-size: 24    px;">Habilidades de Raça</h3>
                        <p id="bonusMessage" class="destaque-mensagem" ></p>
                        
                    </div>
                    <div class="column" style="width: 55%;">
                        <p style="font-size: 18px;">
                            Pontos Disponíveis: 
                            <span id="pontos_disponiveis" style="font-weight: bold;  font-size: 25px">10</span>
                            <!-- O elemento <input> que será exibido quando o toggle estiver ativado -->
                            <input type="number" value="10" id="pontosInput"  style="display: none; font-size: 25px">
                            <!-- O botão "Salvar" para atualizar o valor dos Pontos Disponíveis -->
                            <button id="salvarPontos" style="display: none;" onclick="atualizarPontosDisponiveis(),exibirOpcoes()">Salvar</button>
                        </p>
                        <table class="table">
                            <thead>
                                <tr>
                                    <th></th>
                                    <th>Atributo</th>
                                    <th>Valor</th>
                                    <th>Racial</th>
                                    <th class="outros-col">Outros</th>
                                    <th class="total-col">Total</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><img src="https://www.etc.cmu.edu/projects/star-stone/wp-content/uploads/2014/11/190px_icon_Ability-01.png" alt="simbolo de forca" height="40px" width="auto"></td>
                                    <td>FOR</td>
                                    <td><input type="number" id="forca" value="0" min="-1" max="4" onchange="calcularTotalForca(); calcularPontosDisponiveis();"></td>
                                    <td><input type="number" id="for_racial" value="0" onchange="calcularTotalForca()" style="width: 75px;"></td>
                                    <td class="outros-col"><input type="number" id="for_outros" value="0" onchange="calcularTotalForca()" style="width: 75px;"></td>
                                    <td id="total_forca">0</td>
                                </tr>
                                <tr>
                                    <td><img src="https://www.etc.cmu.edu/projects/star-stone/wp-content/uploads/2014/11/190px_icon_Ability-02.png" alt="simbolo de destreza" height="40px" width="auto"></td>
                                    <td>DES</td>
                                    <td><input type="number" id="destreza" value="0" min="-1" max="4" onchange="calcularTotalDestreza(); calcularPontosDisponiveis();"></td>
                                    <td><input type="number" id="dex_racial" value="0" onchange="calcularTotalDestreza()" style="width: 75px;"></td>
                                    <td class="outros-col"><input type="number" id="dex_outros" value="0" onchange="calcularTotalDestreza()" style="width: 75px;"></td>
                                    <td id="total_destreza">0</td>
                                </tr>
                                <tr>
                                    <td><img src="https://www.etc.cmu.edu/projects/star-stone/wp-content/uploads/2014/11/190px_icon_Ability-03.png" alt="simbolo de constituicao" height="40px" width="auto"></td>
                                    <td>CON</td>
                                    <td><input type="number" id="constituicao" value="0" min="-1" max="4" onchange="calcularTotalConstituicao(); calcularPontosDisponiveis();"></td>
                                    <td><input type="number" id="con_racial" value="0" onchange="calcularTotalConstituicao()" style="width: 75px;"></td>
                                    <td class="outros-col"><input type="number" id="con_outros" value="0" onchange="calcularTotalConstituicao()" style="width: 75px;"></td>
                                    <td id="total_constituicao">0</td>
                                </tr>
                                <tr>
                                    <td><img src="https://www.etc.cmu.edu/projects/star-stone/wp-content/uploads/2014/11/190px_icon_Ability-05.png" alt="simbolo de inteligencia" height="40px" width="auto"></td>
                                    <td>INT</td>
                                    <td><input type="number" id="inteligencia" value="0" min="-1" max="4" onchange="calcularTotalInteligencia(); calcularPontosDisponiveis();"></td>
                                    <td><input type="number" id="int_racial" value="0" onchange="calcularTotalInteligencia()" style="width: 75px;"></td>
                                    <td class="outros-col"><input type="number" id="int_outros" value="0" onchange="calcularTotalInteligencia()" style="width: 75px;"></td>
                                    <td id="total_inteligencia">0</td>
                                </tr>
                                <tr>
                                    <td><img src="https://www.etc.cmu.edu/projects/star-stone/wp-content/uploads/2014/11/190px_icon_Ability-04.png" alt="simbolo de sabedoria" height="40px" width="auto"></td>
                                    <td>SAB</td>
                                    <td><input type="number" id="sabedoria" value="0" min="-1" max="4" onchange="calcularTotalSabedoria(); calcularPontosDisponiveis();"></td>
                                    <td><input type="number" id="sab_racial" value="0" onchange="calcularTotalSabedoria()" style="width: 75px;"></td>
                                    <td class="outros-col"><input type="number" id="sab_outros" value="0" onchange="calcularTotalSabedoria()" style="width: 75px;"></td>
                                    <td id="total_sabedoria">0</td>
                                </tr>
                                <tr>
                                    <td><img src="https://www.etc.cmu.edu/projects/star-stone/wp-content/uploads/2014/11/190px_icon_Ability-06.png" alt="simbolo de carisma" height="40px" width="auto"></td>
                                    <td>CAR</td>
                                    <td><input type="number" id="carisma" value="0" min="-1" max="4" onchange="calcularTotalCarisma(); calcularPontosDisponiveis();"></td>
                                    <td><input type="number" id="car_racial" value="0" onchange="calcularTotalCarisma()" style="width: 75px;"></td>
                                    <td class="outros-col"><input type="number" id="car_outros" value="0" onchange="calcularTotalCarisma()" style="width: 75px;"></td>
                                    <td id="total_carisma">0</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                </div>
                <h2>Crie a imagem do seu personagem</h2>
                <h6>Iremos criar um prompt sugestão para você criar uma imagem do seu personagem.<br>
                Adicione ou altere os dados para se adequar ao que você pretende criar (cor da pele, dos olhos, tipo de roupa, etc).
                Existem algumas palavras fixas no prompt que ajudam a melhorar a criação. Recomendo manter, mas se prefere outros estilos, 
                retire o "unreal engine" ou mude o "anime style" para outros de sua preferência. <br>
                </h6>
                

                <button id="gerarPrompt">Gerar Prompt</button>
                <button id="copiarPrompt">Copiar Prompt</button>
                <div id="promptGerado"></div>
                
                <p><hr>
                    Para criar a imagem, acesse o seguinte link:<br>
                    <a href="https://clipdrop.co/stable-diffusion" target="_blank">Criar Imagem (stable-diffusion)</a>
                </p>
                
                
                
            </div>
            
        </body>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js"></script>
        <script>
            function calcularTotalForca() {
                const forcaValor = parseInt(document.getElementById("forca").value);
                const forcaRacial = parseInt(document.getElementById("for_racial").value);
                const forcaOutros = parseInt(document.getElementById("for_outros").value);
                const totalForca = forcaValor + forcaRacial + forcaOutros;
                document.getElementById("total_forca").textContent = totalForca;
            }
            
            function calcularTotalDestreza() {
                const destrezaValor = parseInt(document.getElementById("destreza").value);
                const destrezaRacial = parseInt(document.getElementById("dex_racial").value);
                const destrezaOutros = parseInt(document.getElementById("dex_outros").value);
                const totalDestreza = destrezaValor + destrezaRacial + destrezaOutros;
                document.getElementById("total_destreza").textContent = totalDestreza;
            }
            
            function calcularTotalConstituicao() {
                const constituicaoValor = parseInt(document.getElementById("constituicao").value);
                const constituicaoRacial = parseInt(document.getElementById("con_racial").value);
                const constituicaoOutros = parseInt(document.getElementById("con_outros").value);
                const totalConstituicao = constituicaoValor + constituicaoRacial + constituicaoOutros;
                document.getElementById("total_constituicao").textContent = totalConstituicao;
            }
            
            function calcularTotalInteligencia() {
                const inteligenciaValor = parseInt(document.getElementById("inteligencia").value);
                const inteligenciaRacial = parseInt(document.getElementById("int_racial").value);
                const inteligenciaOutros = parseInt(document.getElementById("int_outros").value);
                const totalInteligencia = inteligenciaValor + inteligenciaRacial + inteligenciaOutros;
                document.getElementById("total_inteligencia").textContent = totalInteligencia;
            }
            
            function calcularTotalSabedoria() {
                const sabedoriaValor = parseInt(document.getElementById("sabedoria").value);
                const sabedoriaRacial = parseInt(document.getElementById("sab_racial").value);
                const sabedoriaOutros = parseInt(document.getElementById("sab_outros").value);
                const totalSabedoria = sabedoriaValor + sabedoriaRacial + sabedoriaOutros;
                document.getElementById("total_sabedoria").textContent = totalSabedoria;
            }
            
            function calcularTotalCarisma() {
                const carismaValor = parseInt(document.getElementById("carisma").value);
                const carismaRacial = parseInt(document.getElementById("car_racial").value);
                const carismaOutros = parseInt(document.getElementById("car_outros").value);
                const totalCarisma = carismaValor + carismaRacial + carismaOutros;
                document.getElementById("total_carisma").textContent = totalCarisma;
            }
            
            
            function calcularPontosDisponiveis() {
                const togglePontos = document.getElementById("togglePontos");
                const pontosInput = document.getElementById("pontosInput");
                let pontosDisponiveis = togglePontos.checked
                ? Number(pontosInput.value) || 0
                : 10;
                
                if (!togglePontos.checked) {
                    // Se o toggle estiver desativado, calcular os pontos disponíveis normalmente
                    const atributos = ["forca", "destreza", "constituicao", "inteligencia", "sabedoria", "carisma"];
                    let pontosGastos = 0;
                    
                    for (const atributo of atributos) {
                        const valor = parseInt(document.getElementById(atributo).value);
                        switch (valor) {
                            case -1:
                            pontosGastos += 1;
                            break;
                            case 1:
                            pontosGastos -= 1;
                            break;
                            case 2:
                            pontosGastos -= 1; // Correção: Subtrair 1 ponto quando o valor for 2
                            break;
                            case 3:
                            pontosGastos -= 4;
                            break;
                            case 4:
                            pontosGastos -= 7;
                            break;
                            default:
                            break;
                        }
                    }
                    
                    pontosDisponiveis += pontosGastos;
                }else{
                    const atributos = ["forca", "destreza", "constituicao", "inteligencia", "sabedoria", "carisma"];
                    let pontosGastos = 0;
                    
                    for (const atributo of atributos) {
                        const valor = parseInt(document.getElementById(atributo).value);
                        switch (valor) {
                            case -1:
                            pontosGastos += 1;
                            break;
                            case 1:
                            pontosGastos -= 1;
                            break;
                            case 2:
                            pontosGastos -= 1; // Correção: Subtrair 1 ponto quando o valor for 2
                            break;
                            case 3:
                            pontosGastos -= 4;
                            break;
                            case 4:
                            pontosGastos -= 7;
                            break;
                            default:
                            break;
                        }
                    }
                    
                    pontosDisponiveis += pontosGastos;
                    
                }
                
                // Salvar o estado do toggle antes de atualizar os pontos disponíveis
                const toggleState = togglePontos.checked;
                
                // Atualizar o valor exibido na página e a cor do texto
                const pontosDisponiveisElement = document.getElementById("pontos_disponiveis");
                pontosDisponiveisElement.textContent = pontosDisponiveis;
                pontosDisponiveisElement.style.color = pontosDisponiveis < 0 ? "red" : "black";
                
                // Restaurar o estado do toggle após a atualização
                togglePontos.checked = toggleState;
            }
            
            
            function Valor_atributos() {
                // O restante do código da função
                
                calcularPontosDisponiveis(); // Adicione esta linha para recalcular os pontos disponíveis
            }
            
            function calcularTotais() {
                calcularTotalForca();
                calcularTotalDestreza();
                calcularTotalConstituicao();
                calcularTotalInteligencia();
                calcularTotalSabedoria();
                calcularTotalCarisma();
            }
            
            
            
            window.onload = function() {
                // Inicializar os totais ao carregar a página
                calcularTotais();
                
                // Exibir os bônus raciais de humano
                exibirBonusRaca();
                
                // Chamar a função para calcular os pontos disponíveis ao carregar a página
                calcularPontosDisponiveis();
                
                // Adicionar eventos onchange para atualizar os valores dos atributos e pontos disponíveis ao alterar os inputs
                const inputs = document.querySelectorAll("input");
                for (let i = 0; i < inputs.length; i++) {
                    inputs[i].addEventListener('change', function() {
                        Valor_atributos();
                        calcularPontosDisponiveis();
                    });
                }
            };
            
            
            function exibirBonusRaca() {
                const racaSelect = document.getElementById("raca");
                const caracteristicasGolem = document.getElementById("caracteristicasGolem");
                
                if (racaSelect.value === "golem") {
                    caracteristicasGolem.style.display = "block"; // Exibir as caixas de seleção do Golem
                    limparValoresRaciais();
                    aplicarBonusRacialGolem();
                } else {
                    caracteristicasGolem.style.display = "none";
                    limparValoresRaciais();
                    
                    if (racaSelect.value === "humano") {
                        aplicarBonusRacialHumano(1);
                        // ...
                    } else if (racaSelect.value === "elfo") {
                        aplicarBonusRacialElfo();
                    } else {
                        // Limpar valores da coluna "Racial" e desbloquear os inputs
                        limparValoresRaciais();
                        
                        // Limpar a mensagem de bônus raciais
                        const bonusMessage = document.getElementById("bonusMessage");
                        bonusMessage.textContent = "";
                    }
                }
                
                // Calcular todos os totais após as alterações
                calcularTotais();
            }
            
            
            function aplicarBonusRacialHumano(maximo) {
                const atributosRaciais = ["for_racial", "dex_racial", "con_racial", "int_racial", "sab_racial", "car_racial"];
                let somaAtributos = 0;
                const bonusMessage = document.getElementById("bonusMessage");
                document.getElementById("bonusMessage").innerHTML = "+1 em Três Atributos Diferentes.<br><span style='display: block;'>Versátil.</span>";
                
                for (const atributo of atributosRaciais) {
                    const atributoInput = document.getElementById(atributo);
                    atributoInput.setAttribute("max", maximo);
                    atributoInput.setAttribute("min", "0");
                    atributoInput.value = Math.min(maximo, atributoInput.value);
                    
                    somaAtributos += parseFloat(atributoInput.value) || 0;
                }
                
                for (const atributo of atributosRaciais) {
                    const atributoInput = document.getElementById(atributo);
                    if (parseFloat(atributoInput.value) === 0) {
                        atributoInput.disabled = somaAtributos >= 3;
                    }
                }
            }
            
            
            function aplicarBonusRacialElfo() {
                // Exibir mensagem de bônus raciais
                const bonusMessage = document.getElementById("bonusMessage");
                document.getElementById("bonusMessage").innerHTML = "Inteligência +2, Destreza +1, Constituição -1<br><span style='display: block;'>Graça de Glórienn</span><span>Sangue Mágico</span><br><span>Sentidos Élficos<span>";
                    
                    // Definir os valores dos atributos raciais para Elfo
                    const forRacaInput = document.getElementById("for_racial");
                    const dexRacaInput = document.getElementById("dex_racial");
                    const conRacaInput = document.getElementById("con_racial");
                    const intRacaInput = document.getElementById("int_racial");
                    const sabRacaInput = document.getElementById("sab_racial");
                    const carRacaInput = document.getElementById("car_racial");
                    
                    forRacaInput.value = "0";
                    dexRacaInput.value = "1";
                    conRacaInput.value = "-1";
                    intRacaInput.value = "2";
                    sabRacaInput.value = "0";
                    carRacaInput.value = "0";
                    
                    // Bloquear os campos de input dos atributos raciais
                    forRacaInput.disabled = true;
                    dexRacaInput.disabled = true;
                    conRacaInput.disabled = true;
                    intRacaInput.disabled = true;
                    sabRacaInput.disabled = true;
                    carRacaInput.disabled = true;
                    
                    
                }
                
                function aplicarBonusRacialGolem() {
                    // Obter os valores selecionados nas caixas de seleção
                    const chassiSelect = document.getElementById("chassi");
                    const chassiValue = chassiSelect.value;
                    const fonteEnergiaSelect = document.getElementById("fonteEnergia");
                    const fonteEnergiaValue = fonteEnergiaSelect.value;
                    const tamanhoSelect = document.getElementById("tamanho");
                    const tamanhoValue = tamanhoSelect.value;
                    
                    // Exibir mensagem de bônus raciais
                    const bonusMessage = document.getElementById("bonusMessage");
                    if (chassiValue === "bronze") {
                        const outrosColumn = document.querySelectorAll(".outros-col");
                        outrosColumn.forEach((cell) => cell.classList.add("show"));
                        bonusMessage.innerHTML = "Força +1, Carisma -1<br><span style='display: block;'>Chassi de Bronze: +1 em dois atributos a sua escolha." + "<br>Fonte de Energia: " + fonteEnergiaValue + "<br>Tamanho: " + tamanhoValue + "</span>";
                    } else if (chassiValue === "ferro") {
                        const outrosColumn = document.querySelectorAll(".outros-col");
                        outrosColumn.forEach((cell) => cell.classList.remove("show"));
                        bonusMessage.innerHTML = "Força +1, Carisma -1<br><span style='display: block;'>Chassi de Ferro: Força +1 e Constituição +1." + "<br>Fonte de Energia: " + fonteEnergiaValue + "<br>Tamanho: " + tamanhoValue + "</span>";
                    } else if (chassiValue === "carne") {
                        const outrosColumn = document.querySelectorAll(".outros-col");
                        outrosColumn.forEach((cell) => cell.classList.remove("show"));
                        bonusMessage.innerHTML = "Força +1, Carisma -1<br><span style='display: block;'>Chassi de Carne: Constituição +2, Força +1, Carisma –1." + "<br>Fonte de Energia: " + fonteEnergiaValue + "<br>Tamanho: " + tamanhoValue + "</span>";
                    } else {
                        const outrosColumn = document.querySelectorAll(".outros-col");
                        outrosColumn.forEach((cell) => cell.classList.remove("show"));
                        bonusMessage.textContent = "";
                    }
                    
                    // Definir os valores dos atributos raciais para Golem com base nas escolhas
                    const forRacaInput = document.getElementById("for_racial");
                    const dexRacaInput = document.getElementById("dex_racial");
                    const conRacaInput = document.getElementById("con_racial");
                    const intRacaInput = document.getElementById("int_racial");
                    const sabRacaInput = document.getElementById("sab_racial");
                    const carRacaInput = document.getElementById("car_racial");
                    
                    forRacaInput.value = chassiValue === "ferro" ? "2" : (chassiValue === "carne" ? "2" : "1");
                    dexRacaInput.value = tamanhoValue === "Pequeno" ? "1" : (tamanhoValue === "Grande" ? "-1" : "0");
                    conRacaInput.value = chassiValue === "carne" ? "2" : (chassiValue === "ferro" ? "1" : "0");
                    intRacaInput.value = "0";
                    sabRacaInput.value = "0";
                    carRacaInput.value = chassiValue === "carne" ? "-2" : "-1";
                    
                    // Desbloquear os campos de input dos atributos raciais
                    forRacaInput.disabled = true;
                    dexRacaInput.disabled = true;
                    conRacaInput.disabled = true;
                    intRacaInput.disabled = true;
                    sabRacaInput.disabled = true;
                    carRacaInput.disabled = true;
                }
                
                function limparValoresRaciais() {
                    const atributosRaciais = ["for_racial", "dex_racial", "con_racial", "int_racial", "sab_racial", "car_racial"];
                    
                    for (const atributo of atributosRaciais) {
                        const atributoInput = document.getElementById(atributo);
                        atributoInput.value = "0";
                        atributoInput.disabled = false;
                    }
                }
                
                
                function resetarValores() {
                    // Recarregar a página para resetar todos os valores
                    window.location.reload();
                }
                
                // Função para exibir ou ocultar a caixa de opções
                function exibirOpcoes() {
                    var opcoes = document.getElementById("opcoes");
                    if (opcoes.style.display === "none") {
                        opcoes.style.display = "block";
                    } else {
                        opcoes.style.display = "none";
                    }
                }
                
                function toggleOutrosColumn() {
                    const toggleOutrosInput = document.getElementById("toggleOutrosInput");
                    const outrosCells = document.querySelectorAll(".outros-col"); // Selecionar todas as células da coluna "Outros"
                    
                    if (toggleOutrosInput.checked) {
                        // Exibir todas as células da coluna "Outros"
                        outrosCells.forEach((cell) => {
                            cell.classList.add("show");
                            cell.classList.remove("hide");
                        });
                    } else {
                        // Ocultar todas as células da coluna "Outros"
                        outrosCells.forEach((cell) => {
                            cell.classList.add("hide");
                            cell.classList.remove("show");
                        });
                    }
                }
                
                // Adicionar evento onchange para o toggle switch de "Outros"
                const toggleOutrosInput = document.getElementById("toggleOutrosInput");
                toggleOutrosInput.addEventListener('change', toggleOutrosColumn);
                
                function exibirPontosInput() {
                    const pontosInput = document.getElementById("pontosInput");
                    const togglePontos = document.getElementById("togglePontos");
                    
                    if (togglePontos.checked) {
                        // Mostrar o campo de entrada quando o toggle estiver ativado
                        pontosInput.style.display = "inline";
                    } else {
                        // Ocultar o campo de entrada quando o toggle estiver desativado
                        pontosInput.style.display = "none";
                    }
                }
                
                // Adicionar evento onchange para o toggle dos pontos disponíveis
                const togglePontos = document.getElementById("togglePontos");
                togglePontos.addEventListener('change', exibirPontosInput);
                
                function togglePontosInput() {
                    const pontosInput = document.getElementById("pontosInput");
                    const salvarPontosBtn = document.getElementById("salvarPontos");
                    const togglePontos = document.getElementById("togglePontos");
                    
                    if (togglePontos.checked) {
                        // Quando o toggle estiver marcado (ativado), exibir o input e o botão "Salvar"
                        pontosInput.style.display = "inline";
                        salvarPontosBtn.style.display = "inline";
                        // Atualizar o valor do input com o valor atual dos pontos disponíveis
                        pontosInput.value = parseInt(document.getElementById("pontos_disponiveis").textContent);
                    } else {
                        // Quando o toggle estiver desmarcado (desativado), ocultar o input e o botão "Salvar"
                        pontosInput.style.display = "none";
                        salvarPontosBtn.style.display = "none";
                    }
                }
                
                function atualizarPontosDisponiveis() {
                    const pontosInput = document.getElementById("pontosInput");
                    const pontosDisponiveis = document.getElementById("pontos_disponiveis");
                    
                    const novoValor = parseInt(pontosInput.value);
                    if (!isNaN(novoValor)) {
                        // Se o valor inserido for um número válido, atualizar os pontos disponíveis
                        pontosDisponiveis.textContent = novoValor;
                        // Ocultar o input e o botão "Salvar" após a atualização
                        pontosInput.style.display = "none";
                        document.getElementById("salvarPontos").style.display = "none";
                        // Desmarcar o toggle após salvar o valor
                        document.getElementById("togglePontos").checked = true;
                        // Recalcular os totais após a atualização dos pontos disponíveis
                        calcularTotais();
                    } else {
                        // Caso o valor inserido não seja um número válido, exibir um alerta
                        alert("Por favor, insira um valor numérico válido.");
                    }
                }
                
                
                // Adicionar funcionalidade de arrastar à caixa de opções
                const optionsBox = document.querySelector('.options-box');
                let isDragging = false;
                let offset = { x: 0, y: 0 };
                
                optionsBox.addEventListener('mousedown', (e) => {
                    isDragging = true;
                    offset = {
                        x: e.clientX - optionsBox.getBoundingClientRect().left,
                        y: e.clientY - optionsBox.getBoundingClientRect().top
                    };
                });
                
                document.addEventListener('mousemove', (e) => {
                    if (!isDragging) return;
                    
                    optionsBox.style.left = `${e.clientX - offset.x}px`;
                    optionsBox.style.top = `${e.clientY - offset.y}px`;
                });
                
                document.addEventListener('mouseup', () => {
                    isDragging = false;
                });
                
            
                
            </script>
            <script>
                const prompts = {
            humano: {
                gender: ["masculino", "feminino"],
                role: ["guerreiro", "mago", "clérigo", "arqueiro", "ladrão", "alquimista"],
                attire: ["armadura", "roupas de mago", "roupas simples", "vestimentas cerimoniais", "trajes extravagantes", "uniforme militar"],
                scene: ["pintura", "oceano", "igreja", "floresta", "rua movimentada", "castelo em ruínas"],
                emotion: ["tristeza", "pesar", "felicidade", "raiva", "surpresa", "medo"],
                weapon: ["cajado", "espada", "maça", "arco e flecha", "adaga", "besta"],
                location: ["parque", "cemitério", "taberna", "castelo", "bosque encantado", "cidade subterrânea"]
            },
            elfo: {
                gender: ["masculino", "feminino", "androgino"],
                role: ["ranger", "mago", "clérigo", "arqueiro", "druida", "bardo"],
                attire: ["armadura élfica", "vestes da natureza", "roupas elegantes", "vestimentas folhosas", "trajes élficos finos", "roupas simples"],
                scene: ["floresta encantada", "clareira à luz da lua", "ruína antiga", "lago cristalino", "cidade élfica", "céu estrelado"],
                emotion: ["nostalgia", "serenidade", "alegria", "mistério", "anseio", "admiração"],
                weapon: ["arco longo", "cajado", "adaga", "espada", "lança", "cristais mágicos"],
                location: ["aldeia élfica", "clareira sagrada", "santuário silvestre", "reino etéreo", "templo antigo"]
            },
            golem: {
                purpose: ["guardião", "trabalhador", "artilharia", "explorador", "erudito", "entretenimento"],
                ability: ["força", "velocidade", "resiliência", "agilidade", "inteligência", "poder elemental"],
                environment: ["cidade", "floresta", "montanhas", "caverna", "deserto", "ruínas"],
                action: ["protegendo", "construindo", "contemplando", "vagueando", "aprendendo", "entretendo"]
            }
        };

        const fixedCharacteristics = "4k, ultra detalhado, Detalhes intrincados, muito realista, iluminação cinematográfica, iluminação volumétrica, fotográfico, motor Unreal, estilo anime ";

        const racaSelector = document.getElementById("raca");
        const promptGerado = document.getElementById("promptGerado");
        const gerarPromptBtn = document.getElementById("gerarPrompt");
        const copiarPromptBtn = document.getElementById("copiarPrompt");

        function generateRandomPrompt(raca) {
            if (raca === "golem") {
                
                const purpose = prompts[raca].purpose[Math.floor(Math.random() * prompts[raca].purpose.length)];
                const ability = prompts[raca].ability[Math.floor(Math.random() * prompts[raca].ability.length)];
                const environment = prompts[raca].environment[Math.floor(Math.random() * prompts[raca].environment.length)];
                const action = prompts[raca].action[Math.floor(Math.random() * prompts[raca].action.length)];
                const tamanhoSelect = document.getElementById("tamanho");
                const tamanhoValue = tamanhoSelect.value;
                const chassiSelect = document.getElementById("chassi");
                const chassiValue = chassiSelect.value;
                const fonteEnergiaSelect = document.getElementById("fonteEnergia");
                const fonteEnergiaValue = fonteEnergiaSelect.value;

                return `Um golem ${tamanhoValue} de feito de ${chassiValue} e alimentado por energia ${fonteEnergiaValue}, de formato humanóide, projetado como ${purpose}, ${action} em um ${environment}, exibindo sua ${ability}, ${fixedCharacteristics}`;
            } else {
                const gender = prompts[raca].gender[Math.floor(Math.random() * prompts[raca].gender.length)];
                const role = prompts[raca].role[Math.floor(Math.random() * prompts[raca].role.length)];
                const attire = prompts[raca].attire[Math.floor(Math.random() * prompts[raca].attire.length)];
                const scene = prompts[raca].scene[Math.floor(Math.random() * prompts[raca].scene.length)];
                const emotion = prompts[raca].emotion[Math.floor(Math.random() * prompts[raca].emotion.length)];
                const weapon = prompts[raca].weapon[Math.floor(Math.random() * prompts[raca].weapon.length)];
                const location = prompts[raca].location[Math.floor(Math.random() * prompts[raca].location.length)];

                return `Um ${raca} ${gender} ${role} vestindo ${attire}, olhando para um ${scene} com ${emotion}, segurando um ${weapon} em um ${location}, ${fixedCharacteristics}`;
            }
        }

        gerarPromptBtn.addEventListener("click", () => {
            const racaSelecionada = racaSelector.value;
            const promptGeradoTexto = generateRandomPrompt(racaSelecionada);
            promptGerado.textContent = `Prompt: ${promptGeradoTexto}`;
        });

        copiarPromptBtn.addEventListener("click", () => {
            const promptText = promptGerado.textContent;
            if (promptText) {
                const textarea = document.createElement("textarea");
                textarea.value = promptText;
                document.body.appendChild(textarea);
                textarea.select();
                document.execCommand("copy");
                document.body.removeChild(textarea);
                alert("Prompt copiado!");
            }
        });



    </script>
</html>
